<div>
    <mat-toolbar>
            <button mat-stroked-button matTooltip='Kliknij prawym przyciskiem myszy na folder aby wyświetlić dodatkowe opcje' (click)='addRootFolder()'>Dodaj folder nadrzędny</button>
    </mat-toolbar>
    
    <!-- <mat-form-field class="no-underline" floatLabel='never'>
        <mat-label>Nazwa</mat-label>
        <input matInput>
        <mat-icon matPrefix>folder</mat-icon>
    </mat-form-field> -->
    
    <mat-tree [dataSource]="dataSource" [treeControl]="treeControl">
        <mat-tree-node *matTreeNodeDef="let node" matTreeNodePadding matTreeNodePaddingIndent='10'>
            <button mat-icon-button disabled></button>
            <button appDisableContextMenu mat-button (auxclick)='openFolderMenu(menuTrigger)'>
                {{node.name}}
                <span [matMenuTriggerFor]='menu' [matMenuTriggerData]='node' #menuTrigger='matMenuTrigger' style="opacity: 0;"></span>
            </button>
        </mat-tree-node>
        <mat-tree-node *matTreeNodeDef="let node; when: hasChild" matTreeNodePadding matTreeNodePaddingIndent='10'>
            <button mat-icon-button matTreeNodeToggle>
                <mat-icon>
                    {{treeControl.isExpanded(node) ? 'expand_more' : 'chevron_right'}}
                </mat-icon>
            </button>
            <button appDisableContextMenu mat-button (auxclick)='openFolderMenu(menuTrigger)'>
                {{node.name}}
                <span [matMenuTriggerFor]='menu' [matMenuTriggerData]='node' #menuTrigger='matMenuTrigger' style="opacity: 0;"></span>
            </button>
        </mat-tree-node>
    </mat-tree>
    
    <mat-menu #menu='matMenu'>
        <ng-template matMenuContent let-name='level'>
            <a mat-menu-item>
                Dodaj podfolder
                {{name}}
            </a>
            <a mat-menu-item >
                Edytuj nazwę
            </a>
        </ng-template>
    </mat-menu>
</div>